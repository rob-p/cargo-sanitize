{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the documentation for cargo-sanitize","text":"<p>Documentation for the <code>cargo-sanitize</code> program </p>"},{"location":"#purpose","title":"Purpose","text":"<p>The <code>cargo-sanitize</code> program removes custom paths / sources from dependencies in your <code>Cargo.toml</code> file  (i.e. those pointing to <code>git</code> repositories or local <code>paths</code>).  It is intended to provide a super lightweight  version of the transformation that <code>cargo publish</code> does to your <code>Cargo.toml</code> file before publishing to  <code>crates.io</code>.</p>"},{"location":"#use","title":"Use","text":"<p>To use <code>cargo-sanitize</code>, you simply pass the executable your current <code>Cargo.toml</code> file.  If you provide no  output path, the new <code>Cargo.toml</code> contents will be written directly to <code>stdout</code>.  Alternatively, you can  provide the new file path with the <code>-o</code> option.  A standard invocation might look like:</p> <pre><code>cargo-sanitize -i Cargo.toml.orig &gt; Cargo.toml\n</code></pre> <p>Here, we are assuming that you have already copied your \"source\" <code>Cargo.toml</code> to the file <code>Cargo.toml.orig</code>, and  this command will then write the sanitized version to the path <code>Cargo.toml</code>.</p>"},{"location":"#features","title":"Features","text":"<p><code>cargo-sanitize</code> provides the optional <code>validate_crates</code> feature.  This feature will query the cargo registry for the dependencies listed in your <code>Cargo.toml</code>, and will succeed only if there is a compatible version of each  declared dependency present in the registry (compatibility is determined via the semver crate).</p> <p>This can ensure that, e.g. if you are relying on a local path at a particular version, that version (or a compatible one)  is also available downstream in the official registry.  </p> <p>If you install <code>cargo-sanitize</code> with this feature, then you can use the <code>--validate-type</code> option to validate either  (1) all of the dependencies (by passing <code>--validate-type all</code>) or (2) only the dependencies that are rewritten  (by passing <code>--validate-type rewritten</code>).  Note: Even if you enable this feature, the default value for the  <code>--validate-type</code> option is <code>none</code>, which will not perform validation.  This behavior is designed so that <code>cargo-sanitize</code> need not require network access by default to sanitize the input <code>Cargo.toml</code> file.</p>"},{"location":"#differences-from-related-tools","title":"Differences from related tools","text":"<p>The functionality provided by <code>cargo-sanitize</code> is very tightly-scoped.  Related (and more general) functionality is provided by  the <code>cargo publish</code> and <code>cargo package</code> comamnds.  Specifically, the sole purpose of <code>cargo-sanitize</code> is to rewrite your <code>Cargo.toml</code> file so that no dependencies absent from the downstream registry (i.e. <code>crates.io</code>) are present. Therefore:</p> <ul> <li> <p>It does not attempt to build your project. If your requirements are not properly constrained by the stated version of the dependenices it is    possible that moving from the path dependency to the registry dependency could break the build.  Note: <code>cargo-sanitize</code> can   \"nominally\" verify version constraints, and as long as your application abides by these, this should not be a problem.</p> </li> <li> <p>It does not attempt to \"normalize\" or re-organize your <code>Cargo.toml</code> file in any way.  Specifically, <code>cargo-sanitize</code> relies   on the <code>toml_edit</code> crate, and so, apart from the removal of path dependencies, it attempts to   retain the original formatting of the <code>Cargo.toml</code> file as much as possible. </p> </li> <li> <p>It does not inspect or touch any other files in your project. It will not attempt to create a package of your project (either as a tarball or a <code>.crate</code> file).   It will not read or write other files in your project directory or workspace.  It can be used to only sanitize the <code>Cargo.toml</code> file --- of course, this    means it is the only thing that it can do.</p> </li> <li> <p>It can work in a completely offline mode; rewriting the <code>Cargo.toml</code> file without any access to the network.  Of course, in this case, there is    no validation performed that the rewritten dependencies exist in the downstream registry, and you are therefore entirely responsible for guaranteeing   that yourself.</p> </li> </ul> <p>If you are looking to do more than to simply sanitize your <code>Cargo.toml</code> file, and are looking for more robust or fully-fledged functionality,  then you are likely interested in the the <code>cargo publish</code> or  <code>cargo package</code> comamnds. </p>"}]}